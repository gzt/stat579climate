polls1<-subset(ddply(polls1,.(State),transform,newdate=(max(Day)-Day)),((newdate<30)&(Pollster != "Angus-Reid-3") ))
polls1<-ddply(polls1,.(State),transform, MoE = .5*((max(diff)-min(diff))) )
View(polls1)
polls1<-ddply(polls, .(State,Day,Date,Pollster,EV), summarise, diff = (GOP-Dem))
polls1<-subset(ddply(polls1,.(State),transform,newdate=(max(Day)-Day)),((newdate<30)&(Pollster != "Angus-Reid-3") ))
polls1<-ddply(polls1,.(State),transform, MoE = .5*((max(diff)-min(diff))),sd=sd(diff) )
View(polls1)
View(bestresult)
View(avgresult)
View(polls)
library("plyr")
library("ggplot2")
polls<-read.csv("http://www.electoral-vote.com/evp2012/Pres/pres_polls.csv")
polls1<-ddply(polls, .(State,Day,Date,Pollster,EV), summarise, diff = (GOP-Dem), Pollname = substring(Pollster, 1, 5))
polls1<-subset(polls1,((Pollname == "Rasmu")|(Day==1)))
View(polls1)
rasmuresult<-subset(ddply(polls1,.(State),transform,rank=rank(Day)),rank==1)
View(rasmuresult)
rasmuresult<-subset(ddply(polls1,.(State),transform,rank=rank(-Day)),rank==1)
View(rasmuresult)
View(bestresult)
polls1<-ddply(polls1,.(State),transform, MoE = max(.5*((max(diff)-min(diff))),5) )
rasmuresult<-subset(ddply(polls1,.(State),transform,rank=rank(-Day)),rank==1)
View(rasmuresult)
rasmuresult<-subset(ddply(polls1,.(State),transform,rank=rank(-Day)),rank==1)[,c(2,6,7,9)]
View(rasmuresult)
rasmuresult<-subset(ddply(polls1,.(State),transform,rank=rank(-Day)),rank==1)[,c(1,5,6,8)]
View(rasmuresult)
head(rasmuresult)
head(rasmuresult[,1])
View(rasmuresult)
rasmuresult[,4]
75+85+89+91
340/4
100+0+4^2+6^2
152*4
4*((150-225)^2 + (200-225)^2 + (250-225)^2+75^2)
-75*4*75 + -25*4*85 + 25*4*89 + 75*4*91
5200/50000
85-225*.104
5*((150-225)^2 + (200-225)^2 + (250-225)^2+75^2)
5200/4 * 5
6500/62500
4(1.15+1+1.25+0.6)
4*(1.15+1+1.25+0.6)
4*((61.6 + .104*150)-75)^2
5*(((61.6 + .104*150)-75)^2+((61.6 + .104*200)-85)^2+((61.6 + .104*250)-89)^2+((61.6 + .104*300)-91)^2)
(((61.6 + .104*150)-75)^2+((61.6 + .104*200)-85)^2+((61.6 + .104*250)-89)^2+((61.6 + .104*300)-91)^2)
5*(((61.6 + .104*150)-85)^2+((61.6 + .104*200)-85)^2+((61.6 + .104*250)-85)^2+((61.6 + .104*300)-85)^2)
((61.6 + .104*150)-85)^2
16+5(100+0+4^2+6^2)
16+5*(100+0+4^2+6^2)
sqrt(62500)
100/(18*250)
100/18*sqrt(1/20 + 225/62500)
61.6 + 1.286*2.101
61.6 - 1.286*2.101
.104 + .0222*2.101
.104 - .0222*2.101
rneedle<-function(n){
x<-runif(n,0,5)
y<-runif(n,0,1)
theta<-runif(n,-pi,pi)
rneedle<-cbind(x,y,theta)
}
x<-rneedle(50)
fix(rneedle)
View(x)
U=runif(N,min=L,max=D-L) #centre
L=0.35 #half-length of the needle
D=20  #length of the room
N=10^3
U=runif(N,min=L,max=D-L) #centre
O=runif(N,min=0,max=pi) #angle
C=cbind(runif(N,0,D),U)
A=C+L*cbind(cos(O),sin(O))
B=C-L*cbind(cos(O),sin(O))
plot(C,type="n",axes=F,xlim=c(0,D),ylim=c(0,D))
for (t in 1:N)
lines(c(A[t,1],B[t,1]),c(A[t,2],B[t,2]),col="steelblue")
ggplot2( xlim=c(0,5), ylim=c(-1,1))+geom_vline(yintercept=c(0,1))
library(ggplot2)
ggplot2( xlim=c(0,5), ylim=c(-1,1))+geom_vline(yintercept=c(0,1))
ggplot( xlim=c(0,5), ylim=c(-1,1))+geom_vline(yintercept=c(0,1))
p<-ggplot()
p<-p+geom_vline(yintercept=c(0,1))
p<-p+geom_segment(aes(x=((needles[,2]-.5*abs(cos(needles[,3]))), xend=((needles[,2]+.5*abs(cos(needles[,3]))))), y=(needles[,2]-.5*abs(sin(needles[,3]))), yend=(needles[,2]+.5*abs(sin(needles[,3]))), fill=z))
p<-p+geom_segment(aes(x=(needles[,2]-.5*abs(cos(needles[,3]))), xend=(needles[,2]+.5*abs(cos(needles[,3]))), y=(needles[,2]-.5*abs(sin(needles[,3]))), yend=(needles[,2]+.5*abs(sin(needles[,3]))), fill=z))
library(ggplot2)
rneedle<-function(n){
x<-runif(n,0,5)
y<-runif(n,0,1)
theta<-runif(n,-pi,pi)
rneedle<-cbind(x,y,theta)
}
plotneedle<-function(needles){
length<-0.5
z<-(((needles[,2]-.5*abs(sin(needles[,3])))<0)|(needles[,2]+.5*abs(sin(needles[,3])))>1)
p<-ggplot()
p<-p+geom_vline(yintercept=c(0,1))
p<-p+geom_segment(aes(x=(needles[,2]-.5*abs(cos(needles[,3]))), xend=(needles[,2]+.5*abs(cos(needles[,3]))), y=(needles[,2]-.5*abs(sin(needles[,3]))), yend=(needles[,2]+.5*abs(sin(needles[,3]))), fill=z))
plotneedle<-p
}
dim(x)
length<-dim(x)
length[1]
buffon<-function(needles){
size<-dim(needles)
buffon<-2*dim[1]/sum(((needles[,2]-.5*abs(sin(needles[,3])))<0)|(needles[,2]+.5*abs(sin(needles[,3])))>1)
}
fix(p)
plotneedle<-function(needles){
length<-0.5
z<-(((needles[,2]-.5*abs(sin(needles[,3])))<0)|(needles[,2]+.5*abs(sin(needles[,3])))>1)
p<-ggplot()
p<-p+geom_vline(yintercept=c(0,1))
p<-p+geom_segment(aes(x=(needles[,2]-.5*abs(cos(needles[,3]))), xend=(needles[,2]+.5*abs(cos(needles[,3]))), y=(needles[,2]-.5*abs(sin(needles[,3]))), yend=(needles[,2]+.5*abs(sin(needles[,3]))), fill=z))
plotneedle<-p
}
buffon<-function(needles){
size<-dim(needles)
buffon<-2*dim[1]/sum(((needles[,2]-.5*abs(sin(needles[,3])))<0)|(needles[,2]+.5*abs(sin(needles[,3])))>1)
}
set.seed(1415)
X <- rneedle(50)
plotneedle(X)
buffon(X)
plotneedle<-function(needles){
length<-0.5
z<-(((needles[,2]-.5*abs(sin(needles[,3])))<0)|(needles[,2]+.5*abs(sin(needles[,3])))>1)
p<-ggplot()
p<-p+geom_vline(yintercept=c(0,1))
p<-p+geom_segment(aes(x=(needles[,2]-.5*abs(cos(needles[,3]))), xend=(needles[,2]+.5*abs(cos(needles[,3]))), y=(needles[,2]-.5*abs(sin(needles[,3]))), yend=(needles[,2]+.5*abs(sin(needles[,3]))), fill=z))
plotneedle<-p
}
buffon<-function(needles){
size<-dim(needles)
buffon<-2*size[1]/sum(((needles[,2]-.5*abs(sin(needles[,3])))<0)|(needles[,2]+.5*abs(sin(needles[,3])))>1)
}
set.seed(1415)
X <- rneedle(50)
plotneedle(X)
buffon(X)
fix(p)
plotneedle<-function(needles){
length<-0.5
z<-(((needles[,2]-.5*abs(sin(needles[,3])))<0)|(needles[,2]+.5*abs(sin(needles[,3])))>1)
p<-ggplot(needles)
p<-p+geom_vline(yintercept=c(0,1))
p<-p+geom_segment(aes(x=(needles[,2]-.5*abs(cos(needles[,3]))), xend=(needles[,2]+.5*abs(cos(needles[,3]))), y=(needles[,2]-.5*abs(sin(needles[,3]))), yend=(needles[,2]+.5*abs(sin(needles[,3]))), fill=z))
plotneedle<-p
}
buffon<-function(needles){
size<-dim(needles)
buffon<-2*size[1]/sum(((needles[,2]-.5*abs(sin(needles[,3])))<0)|(needles[,2]+.5*abs(sin(needles[,3])))>1)
}
set.seed(1415)
X <- rneedle(50)
plotneedle(X)
buffon(X)
rneedle<-function(n){
x<-runif(n,0,5)
y<-runif(n,0,1)
theta<-runif(n,-pi,pi)
rneedle<-cbind(x,y,theta)
}
needes<-rneedle(50)
z<-(((needles[,2]-.5*abs(sin(needles[,3])))<0)|(needles[,2]+.5*abs(sin(needles[,3])))>1)
needles<-rneedle(50)
z<-(((needles[,2]-.5*abs(sin(needles[,3])))<0)|(needles[,2]+.5*abs(sin(needles[,3])))>1)
geom_segment(aes(x=(needles[,2]-.5*abs(cos(needles[,3]))), xend=(needles[,2]+.5*abs(cos(needles[,3]))), y=(needles[,2]-.5*abs(sin(needles[,3]))), yend=(needles[,2]+.5*abs(sin(needles[,3]))), fill=z))
p<-ggplot()
p<-p+geom_vline(yintercept=c(0,1))
fix(p)
X <- rneedle(50)
z<-(((needles[,2]-.5*abs(sin(needles[,3])))<0)|(needles[,2]+.5*abs(sin(needles[,3])))>1)
framed<-data.frame(needles,z)
p<-ggplot(framed)
fix(p)
p<-p+geom_vline(yintercept=c(0,1))
p<-p+geom_segment(aes(x=(needles[,2]-.5*abs(cos(needles[,3]))), xend=(needles[,2]+.5*abs(cos(needles[,3]))), y=(needles[,2]-.5*abs(sin(needles[,3]))), yend=(needles[,2]+.5*abs(sin(needles[,3]))), fill=z))
fix(p)
fix(p)
set.seed(1415)
X <- rneedle(50)
plotneedle(X)
buffon(X)
buffon(X)
A<-buffon(X)
library(ggplot2)
rneedle<-function(n){
x<-runif(n,0,5)
y<-runif(n,0,1)
theta<-runif(n,-pi,pi)
rneedle<-data.frame(cbind(x,y,theta))
}
plotneedle<-function(needles){
z<-(((needles[,2]-.5*abs(sin(needles[,3])))<0)|(needles[,2]+.5*abs(sin(needles[,3])))>1)
framed<-data.frame(needles,z)
p<-ggplot(framed)
p<-p+geom_vline(yintercept=c(0,1))
p<-p+geom_segment(aes(x=(needles[,2]-.5*abs(cos(needles[,3]))), xend=(needles[,2]+.5*abs(cos(needles[,3]))), y=(needles[,2]-.5*abs(sin(needles[,3]))), yend=(needles[,2]+.5*abs(sin(needles[,3]))), fill=z))
plotneedle<-p
}
buffon<-function(needles){
size<-dim(needles)
buffon<-2*size[1]/sum(((needles[,2]-.5*abs(sin(needles[,3])))<0)|(needles[,2]+.5*abs(sin(needles[,3])))>1)
}
set.seed(1415)
X <- rneedle(50)
plotneedle(X)
A<-buffon(X)
fix(p)
z<-(((needles[,2]-.5*abs(sin(needles[,3])))<0)|(needles[,2]+.5*abs(sin(needles[,3])))>1)
framed<-data.frame(needles,z)
p<-ggplot(framed. aes(x=framed[,1], y=framed[,2]))
framed<-data.frame(needles,z)
framed
framed[,1]
p<-ggplot(framed. aes(x=framed[,1], y=framed[,2]))
framed[,1]
framed[,2]
p<-ggplot(framed. mapping=aes(x=framed[,1], y=framed[,2]))
p<-ggplot(framed,aes(x=framed[,2], y=framed[,3]))
p<-p+geom_vline(yintercept=c(0,1))
p<-p+geom_segment(aes(x=(framed[,2]-.5*abs(cos(framed[,3]))), xend=(framed[,2]+.5*abs(cos(framed[,3]))), y=(framed[,2]-.5*abs(sin(framed[,3]))), yend=(framed[,2]+.5*abs(sin(framed[,3]))), fill=framed[,4]))
plotneedle<-p
fix(plotneedle)
d <- ggplot(diamonds, aes(x=carat, y=price))
d + geom_point()
d + geom_point(aes(colour = carat))
d + geom_point(aes(colour = carat)) + scale_colour_brewer()
fix(d)
library(ggplot2)
# http://had.co.nz/ggplot2
# qplot examples -------------------------------------------------------------
qplot(diamonds$cut, diamonds$carat)
qplot(carat, price, data = diamonds)
qplot(carat, price, data = diamonds, colour=clarity)
qplot(carat, price, data = diamonds, geom=c("point", "smooth"), method=lm)
qplot(carat, data = diamonds,
geom="histogram")
qplot(carat, data = diamonds,
geom="histogram", binwidth = 1)
qplot(carat, data = diamonds,
geom="histogram", binwidth = 0.1)
qplot(carat, data = diamonds,
geom="histogram", binwidth = 0.01)
# using ggplot() -------------------------------------------------------------
d <- ggplot(diamonds, aes(x=carat, y=price))
d + geom_point()
d + geom_point(aes(colour = carat))
d + geom_point(aes(colour = carat)) + scale_colour_brewer()
ggplot(diamonds) + geom_histogram(aes(x=price))
# Separation of statistcs and geometric elements -----------------------------
p <- ggplot(diamonds, aes(x=price))
p + geom_histogram()
p + stat_bin(geom="area")
p + stat_bin(geom="point")
p + stat_bin(geom="line")
p + geom_histogram(aes(fill = clarity))
p + geom_histogram(aes(y = ..density..))
# Setting vs mapping ---------------------------------------------------------
p <- ggplot(diamonds, aes(x=carat,y=price))
# What will this do?
p + geom_point(aes(colour = "green"))
p + geom_point(colour = "green")
p + geom_point(colour = colour)
p<-qplot(needles[,1], needles[,2], fill=z)
library(ggplot2)
p<-qplot(needles[,1], needles[,2], fill=z)
p<-qplot(needles[,1], needles[,2], fill=z, data=needles)
qplot(needles[,1], needles[,2], fill=z, data=needles)
setwd("~/Documents/GitHub/stat579climate")
jan<-read.csv("ensemble1_jan.csv")
last20<-read.csv("ensemble1_last20.csv")
summary(jan)
summary(last20)
which.max(last20$value)
last20[717444,]
View(last20)
stuff<-subset(last20, ((year==1963)&(month==9)))
View(stuff)
monthly<-read.csv("monthlyglobaldev.csv")
View(monthly)
library(ggplot2)
library(lubridate)
install.package(lubridate)
install.packages(lubridate)
install.packages("lubridate")
library(lubridate)
qplot(anomaly, year, data=monthly)
View(monthly)
View(monthly)
jan<-read.csv("ensemble1_jan.csv")
last20<-read.csv("ensemble1_last20.csv")
monthly<-read.csv("monthlyglobaldev.csv")
library(lubridate)
library(ggplot2)
View(monthly)
qplot(anomaly, date, data=monthly)
qplot(date, anomaly, data=monthly)
monthly$fixedtime<-ymd(monthly$date)
jan<-read.csv("ensemble1_jan.csv")
last20<-read.csv("ensemble1_last20.csv")
stuff<-subset(last20, ((year==163)&(month==9)))
View(stuff)
summary(stuff)
what<-subset(stuff,value>3)
View(what)
stuff<-subset(last20, value>5)
stuff<-subset(last20, value>20)
View(stuff)
what<-subset(stuff,xvalue=row)
View(what)
View(what)
jan<-read.csv("ensemble1_jan.csv")
last20<-read.csv("ensemble1_last20.csv")
what<-subset(last20,xvalue=row)
library(ggplot2)
library(lubridate)
monthly<-read.csv("monthlyglobaldev.csv")
monthly$fixedtime<-ymd(monthly$date)
qplot(fixedtime, anomaly, data=monthly)
qplot(fixedtime, anomaly, data=monthly, color=anomaly)
jan<-subset(jan,xvalue!=row)
jan<-subset(jan,(xvalue!=row))
View(jan)
what<-subset(last20,xloc=row)
jan<-subset(jan,(xloc!=row))
jan<-subset(jan,(xloc!="row"))
last20<-subset(last20,(xloc!="row"))
jan$realyear<-(jan$year+1849)
View(jan)
last20$realyear<-(last20$year+1849)
jan2012<-subset(jan,realyear=2012)
View(jan2012)
View(jan)
jan2012<-subset(jan,realyear==2012)
View(jan2012)
summary(jan2012)
install.packages("RColorBrewer")
library(RColorBrewer)
write.csv(jan,"ensemble1_jan.csv")
write.csv(last20,"ensemble1_last20.csv")
jan<-read.csv("ensemble1_jan.csv")
last20<-read.csv("ensemble1_last20.csv")
summary(last20)
library(ggplot2)
install.packages("RColorBrewer")
jan$long<-(jan$xloc*5-180)
jan$lat<-(jan$yloc*5-90)
last20$long<-(last20$xloc*5-180)
last20$lat<-(last20$yloc*5-90)
write.csv(jan,"ensemble1_jan.csv")
write.csv(last20,"ensemble1_last20.csv")
jan2012<-subset(jan,realyear==2012)
summary(jan2012)
qplot(lat,long,data=jan2012,color=value)
qplot(long,lat,data=jan2012,color=value)
qplot(long,lat,data=jan2012,color=value)+scale_fill_brewer(palette="RdBu")
qplot(long,lat,data=jan2012,color=value)+scale_fill_brewer(palette="RdBu")
qplot(long,lat,data=jan2012,color=value)
qplot(long,lat,data=jan2012,color=value, geom=tile
)
qplot(long,lat,data=jan2012,color=value, geom="tile")
qplot(long,lat,data=jan2012,fill=value, geom="tile")
qplot(long,lat,data=jan2012,fill=value, geom="tile")+scale_fill_brewer(palette="RdBu")
qplot(long,lat,data=jan2012,fill=value, geom="tile")+scale_fill_brewer(palette="Spectral")
library(maps)
qplot(long,lat,data=jan2012,fill=value, geom="tile")+ opts(aspect.ratio=1/2)
qplot(long,lat,data=jan2012,fill=value, geom="tile", xlim=c(-180,180),ylim=c(-90,90))+ theme(aspect.ratio=1/2)
qplot(long,lat,data=jan2012,fill=value, geom="tile")+ theme(aspect.ratio=1/2)
??maps
monthly<-read.csv("monthlyglobaldev.csv")
View(monthly)
monthly$fixedtime<-ymd(monthly$date)
qplot(fixedtime, anomaly, data=monthly, color=anomaly)
+loess()
qplot(fixedtime, anomaly, data=monthly, color=anomaly)+loess()
qplot(fixedtime, anomaly, data=monthly, color=anomaly)+smooth()
qplot(fixedtime, anomaly, data=monthly, color=anomaly)+smooth(loess)
recent<-subset(monthly, fixedtime>1990)
qplot(fixedtime,anomaly,data=recent,color=anomaly)
View(recent)
+geom_smooth()
qplot(fixedtime,anomaly,data=recent,color=anomaly) + geom_smooth()
??RColorBrewer
qplot(long,lat,data=jan2012,fill=value, geom="tile")+ theme(aspect.ratio=1/2)+  scale_fill_gradient2(low = muted("blue"), mid = "white", high = muted("red"), midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
qplot(long,lat,data=jan2012,fill=value, geom="tile")+ theme(aspect.ratio=1/2)+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
qplot(long,lat,data=jan2012,fill=value, geom="tile")+ theme(aspect.ratio=1/2,xlim=c(-180,180),ylim=c(-90,90))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
qplot(long,lat,data=jan2012,fill=value, geom="tile",xlim=c(-180,180),ylim=c(-90,90))+ theme(aspect.ratio=1/2)+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
worldmap<-map_datat("world")
worldmap<-map_data("world")
p <- p + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="white", fill="grey10" )
p<-ggplot()
p <- p + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="white", fill="grey10" )
print(p)
p<-ggplot()
p <- p + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )
p<-p+geom_tile(data=jan2012,aes=(x=long,y=lat,fill=value))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
p<-p+geom_tile(data=jan2012,aes=(x=long,y=lat),fill=value)+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
p<-p+geom_tile(data=jan2012, aes(x=long,y=lat),fill=value)+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
p<-p+geom_tile(data=jan2012, aes(x=long,y=lat,fill=value))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
p
p<-ggplot()
p <- p + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )
p<-p+geom_tile(data=jan2012, aes(x=long,y=lat,fill=value,alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
p
jan2012$long<-jan2012$long+2.5
jan2012$lat<-jan2012$lat+2.5
p<-ggplot()
p <- p + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )
p<-p+geom_tile(data=jan2012, aes(x=long,y=lat,fill=value,alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
p
p<-ggplot()
p <- p + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )
p<-p+geom_tile(data=jan2012, aes(x=long,y=lat,fill=value,alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
p
summary(jan2012$lat)
jan2012$lat<-jan2012$lat-2.5
jan2012$lat<-jan2012$lat-2.5
summary(jan2012$long)
jan2012$long<-jan2012$long-2.5
jan2012$long<-jan2012$long-2.5
p<-ggplot()
p <- p + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )
p<-p+geom_tile(data=jan2012, aes(x=long,y=lat,fill=value,alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
p
jan2012$long<-jan2012$long+2.5
jan2012$lat<-jan2012$lat+2.5
summary(jan2012$long)
summary(jan2012$lat)
p<-ggplot()
p <- p + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )
p<-p+geom_tile(data=jan2012, aes(x=long,y=lat,fill=value,alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
p
p<-ggplot()
p <- p + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )+ theme(aspect.ratio=1/2)
p<-p+geom_tile(data=jan2012, aes(x=long,y=lat,fill=value,alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
p
View(last20)
sep2012<-subset(last20,((realyear==2012)&(month=9)))
q<-ggplot()
q <- q + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )+ theme(aspect.ratio=1/2)
q<-q+geom_tile(data=sep2012, aes(x=long,y=lat,fill=value,alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
q
q <- q + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )+ theme(aspect.ratio=1/2)
q<-q+geom_tile(data=sep2012, aes(x=long,y=lat,fill=value,alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
q<-ggplot()
q <- q + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )+ theme(aspect.ratio=1/2)
q<-q+geom_tile(data=sep2012, aes(x=long,y=lat,fill=value,alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
q
q<-q+geom_tile(data=sep2012, aes(x=long,y=lat,fill=value, alpha=.25))+
scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
summary(sep2012)
q<-ggplot()
q <- q + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )+ theme(aspect.ratio=1/2)
q<-q+geom_tile(data=sep2012, aes(x=long,y=lat,fill=value, alpha=.15))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
q
jan$long<-(180-jan$xloc*5)
jan$lat<-(90-jan$yloc*5)
last20$long<-(180-last20$xloc*5)
last20$lat<-(90-last20$yloc*5)
jan2012<-subset(jan,realyear==2012)
sep2012<-subset(last20,((realyear==2012)&(month==9)))
write.csv(jan,"ensemble1_jan.csv")
write.csv(last20,"ensemble1_last20.csv")
p<-ggplot()
p <- p + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )+ theme(aspect.ratio=1/2)
p<-p+geom_tile(data=jan2012, aes(x=long,y=lat,fill=value,alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
p
q<-ggplot()
q <- q + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )+ theme(aspect.ratio=1/2)
q<-q+geom_tile(data=sep2012, aes(x=long,y=lat,fill=value, alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
q
jan2012$lat<-jan2012$lat+2.5
sep2012$lat<-sep2012$lat+2.5
jan2012$long<-jan2012$long+2.5
sep2012$long<-sep2012$long+2.5
p<-ggplot()
p <- p + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )+ theme(aspect.ratio=1/2)
p<-p+geom_tile(data=jan2012, aes(x=long,y=lat,fill=value,alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
p
q<-ggplot()
q <- q + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )+ theme(aspect.ratio=1/2)
q<-q+geom_tile(data=sep2012, aes(x=long,y=lat,fill=value, alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
q
jan2012$lat<-jan2012$lat+2.5
sep2012$lat<-sep2012$lat+2.5
jan2012$long<-jan2012$long+2.5
sep2012$long<-sep2012$long+2.5
p<-ggplot()
p <- p + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )+ theme(aspect.ratio=1/2)
p<-p+geom_tile(data=jan2012, aes(x=long,y=lat,fill=value,alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
p
q<-ggplot()
q <- q + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )+ theme(aspect.ratio=1/2)
q<-q+geom_tile(data=sep2012, aes(x=long,y=lat,fill=value, alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
q
jan2012$lat<-jan2012$lat+2.5 #fiddling with these to get them to show up right
sep2012$lat<-sep2012$lat+2.5
jan2012$long<-jan2012$long+2.5
sep2012$long<-sep2012$long+2.5
p<-ggplot()
p <- p + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )+ theme(aspect.ratio=1/2)
p<-p+geom_tile(data=jan2012, aes(x=long,y=lat,fill=value,alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
p
q<-ggplot()
q <- q + geom_polygon( data=worldmap, aes(x=long, y=lat, group = group),colour="black", fill="white" )+ theme(aspect.ratio=1/2)
q<-q+geom_tile(data=sep2012, aes(x=long,y=lat,fill=value, alpha=.25))+  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,space = "rgb", na.value = "grey50",guide = "colourbar")
q
